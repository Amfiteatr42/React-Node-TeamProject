"use strict";(self.webpackChunkpetly_react_node_teamproject=self.webpackChunkpetly_react_node_teamproject||[]).push([[151],{5151:function(e,t,a){a.r(t),a.d(t,{default:function(){return Pe}});var r,n=a(2791),l=a(9439),s="NoticesSearch_SearchContainer__o78d+",i="NoticesSearch_SearchTitle__m4DZ1",c="NoticesSearch_SearchInput__MejtC",o="NoticesSearch_SearchForm__mpL9p",d="NoticesSearch_SearchBtn__TGMAQ",m=a(7689),u=a(9434),h=a(2682),p=["title","titleId"];function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},x.apply(this,arguments)}function f(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function j(e,t){var a=e.title,l=e.titleId,s=f(e,p);return n.createElement("svg",x({width:18,height:18,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},s),a?n.createElement("title",{id:l},a):null,r||(r=n.createElement("path",{d:"M12.5 11H11.71L11.43 10.73C12.41 9.59 13 8.11 13 6.5C13 2.91 10.09 0 6.5 0C2.91 0 0 2.91 0 6.5C0 10.09 2.91 13 6.5 13C8.11 13 9.59 12.41 10.73 11.43L11 11.71V12.5L16 17.49L17.49 16L12.5 11V11ZM6.5 11C4.01 11 2 8.99 2 6.5C2 4.01 4.01 2 6.5 2C8.99 2 11 4.01 11 6.5C11 8.99 8.99 11 6.5 11Z"})))}var v,N=n.forwardRef(j),_=(a.p,["title","titleId"]);function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},b.apply(this,arguments)}function g(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function y(e,t){var a=e.title,r=e.titleId,l=g(e,_);return n.createElement("svg",b({width:18,height:18,viewBox:"0 0 21 22",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},l),a?n.createElement("title",{id:r},a):null,v||(v=n.createElement("path",{d:"M12.41 10.9999L20.7 2.70994C20.8638 2.51864 20.9494 2.27256 20.9397 2.02089C20.93 1.76921 20.8256 1.53047 20.6475 1.35238C20.4694 1.17428 20.2307 1.06995 19.979 1.06023C19.7274 1.05051 19.4813 1.13612 19.29 1.29994L11 9.58994L2.70997 1.28994C2.52167 1.10164 2.26627 0.99585 1.99997 0.99585C1.73367 0.99585 1.47828 1.10164 1.28997 1.28994C1.10167 1.47825 0.995881 1.73364 0.995881 1.99994C0.995881 2.26624 1.10167 2.52164 1.28997 2.70994L9.58997 10.9999L1.28997 19.2899C1.18529 19.3796 1.10027 19.4899 1.04025 19.614C0.980225 19.738 0.946494 19.8732 0.941175 20.0109C0.935855 20.1486 0.959061 20.2859 1.00934 20.4143C1.05961 20.5426 1.13587 20.6591 1.23332 20.7566C1.33078 20.854 1.44732 20.9303 1.57565 20.9806C1.70398 21.0309 1.84131 21.0541 1.97903 21.0487C2.11675 21.0434 2.25188 21.0097 2.37594 20.9497C2.50001 20.8896 2.61033 20.8046 2.69997 20.6999L11 12.4099L19.29 20.6999C19.4813 20.8638 19.7274 20.9494 19.979 20.9397C20.2307 20.9299 20.4694 20.8256 20.6475 20.6475C20.8256 20.4694 20.93 20.2307 20.9397 19.979C20.9494 19.7273 20.8638 19.4812 20.7 19.2899L12.41 10.9999Z"})))}var w=n.forwardRef(y),C=(a.p,a(3329));function O(){var e=(0,n.useState)(""),t=(0,l.Z)(e,2),a=t[0],r=t[1],p=(0,m.TH)().pathname,x=(0,u.I0)(),f=p.split("/");return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:s,children:[(0,C.jsx)("h2",{className:i,children:"Find your favorite pet"}),(0,C.jsxs)("form",{className:o,onSubmit:function(e){e.preventDefault(),"sell"===f[2]&&x(h.h.getNoticesCategories({query:a})),"lost-found"===f[2]&&x(h.h.getNoticesCategories({query:a})),"for-free"===f[2]&&x(h.h.getNoticesCategories({query:a})),r("")},children:[(0,C.jsx)("input",{className:c,type:"text",name:"search",placeholder:"Search",value:a,onInput:function(e){return r(e.target.value)}}),a?(0,C.jsx)("button",{className:d,type:"submit",children:(0,C.jsx)(N,{})}):(0,C.jsx)("button",{className:d,type:"submit",onClick:function(){return r("")},children:(0,C.jsx)(w,{})})]})]})})}var M=a(1413),S="Button_Btn__aHl3l",I="Button_Btn_active__RbahH";function A(e){var t=e.text,a=e.active,r=void 0!==a&&a,n=e.smole,l=void 0!==n&&n;return(0,C.jsx)("div",{className:r?I:S,style:l?{height:"32px",fontSize:"14px",lineHeight:"19px",letterSpacing:"0.04em",width:"auto",padding:"10px 26px"}:{},children:t})}var Z="NoticesCategoriesNav_btnLink__AC6BN",F="NoticesCategoriesNav_wrapper__DuH-X",k=a(1087),B=a(4217),L=[{id:"sell",text:"sell",active:!1},{id:"lost-found",text:"lost/found",active:!1},{id:"for-free",text:"In good hands",active:!1}],E=[{id:"favorite",text:"Favorite ads",active:!1},{id:"own",text:"My ads",active:!1}];function q(){var e=(0,u.v9)(B.S8),t=(0,n.useState)(e?[].concat(L,E):L),a=(0,l.Z)(t,2),r=a[0],s=a[1],i=(0,m.TH)();return(0,n.useEffect)((function(){var t,a=i.pathname.split("/");t=e?[].concat(L,E).map((function(e){return(0,M.Z)((0,M.Z)({},e),{},{active:a[2]===e.id})})):r.map((function(e){return(0,M.Z)((0,M.Z)({},e),{},{active:a[2]===e.id})})),s(t)}),[i,e]),(0,C.jsx)("div",{className:F,children:r.map((function(e){var t=e.id,a=e.text,r=(e.smole,e.active);return(0,C.jsx)(k.rU,{to:"/notices/".concat(t),className:Z,style:{color:"inherit"},children:(0,C.jsx)(A,{text:a,smole:!0,active:r})},t)}))})}var D,T="AddNoticeButton_btnWrapper__UjUEZ",W="AddNoticeButton_btn__jkeNX",P="AddNoticeButton_icon__QL6Nl",R=["title","titleId"];function V(){return V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},V.apply(this,arguments)}function H(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function z(e,t){var a=e.title,r=e.titleId,l=H(e,R);return n.createElement("svg",V({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},l),a?n.createElement("title",{id:r},a):null,D||(D=n.createElement("path",{d:"M9 17V9M9 9V1M9 9H17M9 9H1",stroke:"white",strokeWidth:2,strokeLinecap:"round"})))}var Y,U=n.forwardRef(z),Q=(a.p,a(4805)),J=a(8174),$=a(5705),K="AddNoticeModal_Wrapper__hlzZC",X="AddNoticeModal_header__1pB72",G="AddNoticeModal_text__YWSWC",ee="AddNoticeModal_radioWrapper__CmWQq",te="AddNoticeModal_wrapprerInput__R4RQv",ae="AddNoticeModal_radioBtn__6ngfc",re="AddNoticeModal_inputRadio__-hhzl",ne="AddNoticeModal_textFildWrap__xV5OK",le="AddNoticeModal_inputText__4LaAj",se="AddNoticeModal_inputTextarea__t+koT",ie="AddNoticeModal_label__bVW7J",ce="AddNoticeModal_submitBtnWrapp__OEVWW",oe="AddNoticeModal_errorMsg__hKD-a",de="AddNoticeModal_submitBtn__pAryO",me="AddNoticeModal_sexWrap__luL+O",ue="AddNoticeModal_sexLabel__0fnyd",he="AddNoticeModal_sexIcon__E09k+",pe="AddNoticeModal_sexIconFemale__4tooD",xe="AddNoticeModal_inputSex__ykv1L",fe="AddNoticeModal_sexText__6ShdL",je="AddNoticeModal_sexM__URyIb",ve="AddNoticeModal_avatarLabel__Zuybc",Ne="AddNoticeModal_addImage__S5-Z6",_e="AddNoticeModal_selectedAvatar__d5L3J",be="AddNoticeModal_inputFile__z46ch",ge=a(2797),ye=new Date,we=ge.Ry({title:ge.Z_().min(2).max(48).matches(/^[a-zA-Z, ]*$/g,"Only alphabetic characters are allowed").required("Field is required!"),categoryId:ge.Z_().required("Category is required!"),petname:ge.Z_().min(2).max(16).matches(/^[a-zA-Z, ]*$/g,"Only alphabetic characters are allowed").required("Field is required!"),breed:ge.Z_().min(2).max(36).matches(/^[a-zA-Z, ]*$/g,"Only alphabetic characters are allowed").required("Field is required!"),dateofbirth:ge.hT().test("len","Must be exactly DD.MM.YYYY",(function(e,t){var a=t.originalValue;if(a)return 10===a.length})).typeError("Please enter a valid date").required().max(ye)}),Ce=function(e){var t=e.formData,a=e.setFormData,r=e.nextStep,n=e.onClose;return(0,C.jsxs)("div",{children:[(0,C.jsx)("p",{className:G,children:"Write some information about your notice."}),(0,C.jsx)($.J9,{validationSchema:we,initialValues:t,onSubmit:function(e){a((0,M.Z)({},e)),r()},children:(0,C.jsxs)($.l0,{children:[(0,C.jsxs)("div",{role:"group","aria-labelledby":"my-radio-group",className:ee,children:[(0,C.jsxs)("label",{className:te,htmlFor:"lost/found",children:[(0,C.jsx)($.gN,{type:"radio",name:"categoryId",value:"2",id:"lost/found",className:re}),(0,C.jsx)("div",{className:ae,children:"lost/found"})]}),(0,C.jsxs)("label",{className:te,htmlFor:"in_good_hands",children:[(0,C.jsx)($.gN,{type:"radio",name:"categoryId",value:"3",id:"in good hands",className:re}),(0,C.jsx)("div",{className:ae,children:"in good hands"})]}),(0,C.jsxs)("label",{className:te,htmlFor:"sell",children:[(0,C.jsx)($.gN,{type:"radio",name:"categoryId",value:"1",id:"sell",className:re}),(0,C.jsx)("div",{className:ae,children:"sell"})]})]}),(0,C.jsx)($.Bc,{name:"categoryId",render:function(e){return(0,C.jsx)("div",{className:oe,children:e})}}),(0,C.jsxs)("div",{className:ne,children:[(0,C.jsx)("label",{htmlFor:"title",type:"text",className:ie,children:"Tittle of ad*:"}),(0,C.jsx)($.gN,{id:"title",name:"title",placeholder:"Type name pet",className:le}),(0,C.jsx)($.Bc,{name:"title",render:function(e){return(0,C.jsx)("div",{className:oe,children:e})}})]}),(0,C.jsxs)("div",{className:ne,children:[(0,C.jsx)("label",{htmlFor:"petname",type:"text",className:ie,children:"Name pet*:"}),(0,C.jsx)($.gN,{id:"petname",name:"petname",placeholder:"Type name pet",className:le}),(0,C.jsx)($.Bc,{name:"petname",render:function(e){return(0,C.jsx)("div",{className:oe,children:e})}})]}),(0,C.jsxs)("div",{className:ne,children:[(0,C.jsx)("label",{htmlFor:"dateofbirth",type:"text",className:ie,children:"Date of birth*:"}),(0,C.jsx)($.gN,{id:"dateofbirth",name:"dateofbirth",placeholder:"Type date of birth",className:le,"data-pattern":"**.**.****"}),(0,C.jsx)($.Bc,{name:"dateofbirth",render:function(e){return(0,C.jsx)("div",{className:oe,children:e})}})]}),(0,C.jsxs)("div",{className:ne,children:[(0,C.jsx)("label",{htmlFor:"breed",type:"text",className:ie,children:"Breed*:"}),(0,C.jsx)($.gN,{id:"breed",name:"breed",placeholder:"Type breed",className:le,autoComplete:"off"}),(0,C.jsx)($.Bc,{name:"breed",render:function(e){return(0,C.jsx)("div",{className:oe,children:e})}})]}),(0,C.jsxs)("div",{className:ce,children:[(0,C.jsx)("button",{type:"submit",className:de,children:"Next"}),(0,C.jsx)("button",{type:"button",className:de,onClick:n,children:"Cancel"})]})]})})]})},Oe=a(5861),Me=a(7757),Se=a.n(Me),Ie=["title","titleId"];function Ae(){return Ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ae.apply(this,arguments)}function Ze(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Fe(e,t){var a=e.title,r=e.titleId,l=Ze(e,Ie);return n.createElement("svg",Ae({width:71,height:71,viewBox:"0 0 71 71",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},l),a?n.createElement("title",{id:r},a):null,Y||(Y=n.createElement("path",{d:"M35.5002 59.1666V35.4999M35.5002 35.4999V11.8333M35.5002 35.4999H59.1668M35.5002 35.4999H11.8335",strokeOpacity:.6,strokeWidth:2,strokeLinecap:"round"})))}var ke=n.forwardRef(Fe),Be=(a.p,ge.Ry({sex:ge.Z_().required("Field is required!"),location:ge.Z_().min(2).max(36).matches(/\D/g,"Only alphabetic characters are allowed").required("Field is required!"),price:ge.Z_().min(1).max(6).matches(/^[0-9]/,"Only number characters").notRequired(),petImg:ge.nK(),comments:ge.Z_().min(4).max(120).matches(/^\D*$/g,"Only alphabetic characters and symbols are allowed").required("Field is required!")})),Le=function(e){var t=e.formData,a=e.setFormData,r=e.prevStep,s=e.onClose,i=(0,n.useState)("back"),c=(0,l.Z)(i,2),o=c[0],d=c[1],p=(0,n.useState)(t.petImg),x=(0,l.Z)(p,2),f=x[0],j=x[1],v=(0,u.I0)(),N=(0,m.s0)(),_=(0,u.v9)(B.bW),b=(0,u.v9)(B.nX);return(0,C.jsx)("div",{children:(0,C.jsx)($.J9,{validationSchema:Be,initialValues:t,onSubmit:function(){var e=(0,Oe.Z)(Se().mark((function e(t){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a((0,M.Z)((0,M.Z)({},t),{},{petImg:f,price:"1"!==t.categoryId?0:t.price})),"back"===o&&r(),"forward"!==o){e.next=12;break}return e.prev=3,e.next=6,v(h.h.createNotices({values:t,token:_,user:b})).unwrap();case 6:N("/notices/own"),s(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var r=e.setFieldValue;return(0,C.jsxs)($.l0,{className:ne,children:[(0,C.jsxs)("fieldset",{className:me,children:[(0,C.jsx)("legend",{className:je,children:"The sex*:"}),(0,C.jsxs)("label",{className:ue,htmlFor:"male",children:[(0,C.jsx)($.gN,{className:xe,type:"radio",id:"male",name:"sex",alt:"male",value:"male"}),(0,C.jsx)("span",{className:he}),(0,C.jsx)("span",{className:fe,children:"Male"})]}),(0,C.jsxs)("label",{className:ue,htmlFor:"female",children:[(0,C.jsx)($.gN,{className:xe,type:"radio",id:"female",name:"sex",alt:"female",value:"female"}),(0,C.jsx)("span",{className:pe}),(0,C.jsx)("span",{className:fe,children:"Female"})]})]}),(0,C.jsx)($.Bc,{name:"sex",render:function(e){return(0,C.jsx)("div",{className:oe,children:e})}}),(0,C.jsxs)("div",{className:ne,children:[(0,C.jsx)("label",{htmlFor:"location",type:"text",className:ie,children:"Location*:"}),(0,C.jsx)($.gN,{id:"location",name:"location",placeholder:"Type location",className:le}),(0,C.jsx)($.Bc,{name:"location",render:function(e){return(0,C.jsx)("div",{className:oe,children:e})}})]}),"1"===t.categoryId&&(0,C.jsxs)("div",{className:ne,children:[(0,C.jsx)("label",{htmlFor:"price",type:"text",className:ie,children:"Price*:"}),(0,C.jsx)($.gN,{id:"price",name:"price",type:"text",placeholder:"Type price",className:le}),(0,C.jsx)($.Bc,{name:"price",render:function(e){return(0,C.jsx)("div",{className:oe,children:e})}})]}),(0,C.jsx)("label",{htmlFor:"petImg",className:ve,children:"Load the pet's image*:"}),(0,C.jsxs)("div",{className:Ne,children:[f?(0,C.jsx)("img",{id:"petImg",className:_e,src:URL.createObjectURL(f),alt:f.name}):(0,C.jsx)(ke,{}),(0,C.jsx)("input",{className:be,type:"file",id:"petImg",name:"petImg",accept:".jpg,.png",onChange:function(e){return function(e,t){var r=(0,l.Z)(e.target.files,1)[0];r&&(j(r),t("petImg",r),a((function(e){return(0,M.Z)((0,M.Z)({},e),{},{petImg:r})})))}(e,r)}}),(0,C.jsx)($.Bc,{name:"petImg",render:function(e){return(0,C.jsx)("div",{className:oe,children:e})}})]}),(0,C.jsxs)("div",{className:ne,children:[(0,C.jsx)("label",{className:ie,htmlFor:"comments",children:"Comments*:"}),(0,C.jsx)($.gN,{component:"textarea",name:"comments",id:"comments",rows:"3",placeholder:"Type comments",className:se}),(0,C.jsx)($.Bc,{name:"comments",render:function(e){return(0,C.jsx)("div",{className:oe,children:e})}})]}),(0,C.jsxs)("div",{className:ce,children:[(0,C.jsx)("button",{type:"submit",className:de,onClick:function(){return d("forward")},children:"Done"}),(0,C.jsx)("button",{type:"submit",className:de,onClick:function(){return d("back")},children:"Back"})]})]})}})})};function Ee(e){var t=e.onClose,a=(0,n.useState)(1),r=(0,l.Z)(a,2),s=r[0],i=r[1],c=(0,n.useState)({title:"",petname:"",breed:"",sex:"",location:"",price:"",categoryId:Number(""),comments:"",dateofbirth:"",image:""}),o=(0,l.Z)(c,2),d=o[0],m=o[1];switch(s){case 1:return(0,C.jsxs)("div",{className:K,children:[(0,C.jsx)("h1",{className:X,children:"Add pet"}),(0,C.jsx)(Ce,{formData:d,setFormData:m,nextStep:function(){return i((function(e){return 1===e?e+1:2}))},onClose:t})]});case 2:return(0,C.jsxs)("div",{className:K,children:[(0,C.jsx)("h1",{className:X,children:"Add pet"}),(0,C.jsx)(Le,{formData:d,setFormData:m,prevStep:function(){return i((function(e){return e-1}))},onClose:t})]});default:return(0,C.jsx)("div",{})}}var qe=a(7942);function De(){var e=(0,Q.useMediaQuery)({maxWidth:767}),t="Add pet",a=(0,u.v9)(B.S8),r=(0,n.useState)(!1),s=(0,l.Z)(r,2),i=s[0],c=s[1];return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:T,onClick:function(){if(!a)return J.Am.info("You must be logged in");c(!0)},children:[!e&&t,(0,C.jsxs)("button",{type:"button",className:W,children:[(0,C.jsx)(U,{className:P}),e&&t]})]}),i&&(0,C.jsx)(qe.Z,{onClose:function(){c(!1)},children:(0,C.jsx)(Ee,{onClose:function(){c(!1)}})})]})}var Te="NoticesPage_btnBox__u9YgI",We=a(643);function Pe(){var e=(0,m.TH)().pathname,t=(0,m.s0)();return(0,n.useEffect)((function(){"/notices/lost-found"===e||"/notices/for-free"===e||"/notices/favotire"===e||"/notices/own"===e||t("/notices/sell")}),[]),(0,C.jsxs)(We.W,{children:[(0,C.jsx)(O,{}),(0,C.jsxs)("div",{className:Te,children:[(0,C.jsx)(q,{}),(0,C.jsx)(De,{})]}),(0,C.jsx)(m.j3,{})]})}}}]);
//# sourceMappingURL=151.6b35fc77.chunk.js.map