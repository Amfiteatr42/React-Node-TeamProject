"use strict";(self.webpackChunkpetly_react_node_teamproject=self.webpackChunkpetly_react_node_teamproject||[]).push([[676],{5676:function(e,t,a){a.r(t),a.d(t,{default:function(){return Le}});var r,n=a(2791),s=a(9439),i="NoticesSearch_SearchContainer__o78d+",l="NoticesSearch_SearchTitle__m4DZ1",c="NoticesSearch_SearchInput__MejtC",o="NoticesSearch_SearchForm__mpL9p",d="NoticesSearch_SearchBtn__TGMAQ",m=a(7689),u=a(9434),h=a(2682),p=["title","titleId"];function x(){return x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},x.apply(this,arguments)}function f(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function N(e,t){var a=e.title,s=e.titleId,i=f(e,p);return n.createElement("svg",x({width:18,height:18,viewBox:"0 0 18 18",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},i),a?n.createElement("title",{id:s},a):null,r||(r=n.createElement("path",{d:"M12.5 11H11.71L11.43 10.73C12.41 9.59 13 8.11 13 6.5C13 2.91 10.09 0 6.5 0C2.91 0 0 2.91 0 6.5C0 10.09 2.91 13 6.5 13C8.11 13 9.59 12.41 10.73 11.43L11 11.71V12.5L16 17.49L17.49 16L12.5 11V11ZM6.5 11C4.01 11 2 8.99 2 6.5C2 4.01 4.01 2 6.5 2C8.99 2 11 4.01 11 6.5C11 8.99 8.99 11 6.5 11Z"})))}var j=n.forwardRef(N),_=(a.p,a(3329));function v(){var e=(0,n.useState)(""),t=(0,s.Z)(e,2),a=t[0],r=t[1],p=(0,m.TH)().pathname,x=(0,u.I0)(),f=p.split("/");return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:i,children:[(0,_.jsx)("h2",{className:l,children:"Find your favorite pet"}),(0,_.jsxs)("form",{className:o,onSubmit:function(e){e.preventDefault(),"sell"===f[2]&&x(h.h.getNoticesCategories({category:"sell",query:a})),"lost-found"===f[2]&&x(h.h.getNoticesCategories({category:"lost/found",query:a})),"for-free"===f[2]&&x(h.h.getNoticesCategories({category:"in_good_hands",query:a})),r("")},children:[(0,_.jsx)("input",{className:c,type:"text",name:"search",autoFocus:!0,placeholder:"Search",value:a,onInput:function(e){return r(e.target.value)},required:!0}),(0,_.jsx)("button",{className:d,type:"submit",children:(0,_.jsx)(j,{})})]})]})})}var g=a(1413),y="Button_Btn__aHl3l",b="Button_Btn_active__RbahH";function O(e){var t=e.text,a=e.active,r=void 0!==a&&a,n=e.smole,s=void 0!==n&&n;return(0,_.jsx)("div",{className:r?b:y,style:s?{height:"32px",fontSize:"14px",lineHeight:"19px",letterSpacing:"0.04em",width:"auto",padding:"10px 26px"}:{},children:t})}var w="NoticesCategoriesNav_btnLink__AC6BN",M="NoticesCategoriesNav_wrapper__DuH-X",A=a(1087),S=a(4217),C=[{id:"sell",text:"sell",active:!1},{id:"lost-found",text:"lost/found",active:!1},{id:"for-free",text:"In good hands",active:!1}],Z=[{id:"favorite",text:"Favorite ads",active:!1},{id:"own",text:"My ads",active:!1}];function B(){var e=(0,u.v9)(S.S8),t=(0,n.useState)(e?[].concat(C,Z):C),a=(0,s.Z)(t,2),r=a[0],i=a[1],l=(0,m.TH)();return(0,n.useEffect)((function(){var t,a=l.pathname.split("/");t=e?[].concat(C,Z).map((function(e){return(0,g.Z)((0,g.Z)({},e),{},{active:a[2]===e.id})})):r.map((function(e){return(0,g.Z)((0,g.Z)({},e),{},{active:a[2]===e.id})})),i(t)}),[l,e]),(0,_.jsx)("div",{className:M,children:r.map((function(e){var t=e.id,a=e.text,r=(e.smole,e.active);return(0,_.jsx)(A.rU,{to:"/notices/".concat(t),className:w,style:{color:"inherit"},children:(0,_.jsx)(O,{text:a,smole:!0,active:r})},t)}))})}var F,k="AddNoticeButton_btnWrapper__UjUEZ",D="AddNoticeButton_btn__jkeNX",q="AddNoticeButton_icon__QL6Nl",L=["title","titleId"];function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},I.apply(this,arguments)}function T(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function E(e,t){var a=e.title,r=e.titleId,s=T(e,L);return n.createElement("svg",I({width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,F||(F=n.createElement("path",{d:"M9 17V9M9 9V1M9 9H17M9 9H1",stroke:"white",strokeWidth:2,strokeLinecap:"round"})))}var P,W=n.forwardRef(E),R=(a.p,a(4805)),V=a(8174),H=a(5705),$="AddNoticeModal_Wrapper__hlzZC",z="AddNoticeModal_header__1pB72",Y="AddNoticeModal_text__YWSWC",U="AddNoticeModal_radioWrapper__CmWQq",Q="AddNoticeModal_wrapprerInput__R4RQv",J="AddNoticeModal_radioBtn__6ngfc",K="AddNoticeModal_inputRadio__-hhzl",X="AddNoticeModal_textFildWrap__xV5OK",G="AddNoticeModal_inputText__4LaAj",ee="AddNoticeModal_inputTextarea__t+koT",te="AddNoticeModal_label__bVW7J",ae="AddNoticeModal_submitBtnWrapp__OEVWW",re="AddNoticeModal_errorMsg__hKD-a",ne="AddNoticeModal_submitBtn__pAryO",se="AddNoticeModal_sexWrap__luL+O",ie="AddNoticeModal_sexLabel__0fnyd",le="AddNoticeModal_sexIcon__E09k+",ce="AddNoticeModal_sexIconFemale__4tooD",oe="AddNoticeModal_inputSex__ykv1L",de="AddNoticeModal_sexText__6ShdL",me="AddNoticeModal_sexM__URyIb",ue="AddNoticeModal_avatarLabel__Zuybc",he="AddNoticeModal_addImage__S5-Z6",pe="AddNoticeModal_selectedAvatar__d5L3J",xe="AddNoticeModal_inputFile__z46ch",fe=a(2797),Ne=a(6661),je=new Date,_e=fe.Ry({titleOfAd:fe.Z_().min(2).max(48).matches(/^[a-zA-Z, ]*$/g,"Only alphabetic characters are allowed").required("Field is required!"),category:fe.Z_().required("Category is required!"),namePet:fe.Z_().min(2).max(16).matches(/^[a-zA-Z, ]*$/g,"Only alphabetic characters are allowed").required("Field is required!"),breed:fe.Z_().min(2).max(36).matches(/^[a-zA-Z, ]*$/g,"Only alphabetic characters are allowed").required("Field is required!"),dateOfBirth:fe.hT().test("len","Must be exactly DD.MM.YYYY",(function(e,t){var a=t.originalValue;if(a)return 10===a.length})).transform((function(e,t){return this.isType(e)?e:(0,Ne.Z)(t,"dd.MM.yyyy",new Date)})).typeError("Please enter a valid date").required().min("1950-11-13","Date is too early").max(je)}),ve=function(e){var t=e.formData,a=e.setFormData,r=e.nextStep,n=e.onClose;return(0,_.jsxs)("div",{children:[(0,_.jsx)("p",{className:Y,children:"Write some information about your notice."}),(0,_.jsx)(H.J9,{validationSchema:_e,initialValues:t,onSubmit:function(e){a((0,g.Z)({},e)),r()},children:(0,_.jsxs)(H.l0,{children:[(0,_.jsxs)("div",{role:"group","aria-labelledby":"my-radio-group",className:U,children:[(0,_.jsxs)("label",{className:Q,htmlFor:"lost/found",children:[(0,_.jsx)(H.gN,{type:"radio",name:"category",value:"lost/found",id:"lost/found",className:K}),(0,_.jsx)("div",{className:J,children:"lost/found"})]}),(0,_.jsxs)("label",{className:Q,htmlFor:"in_good_hands",children:[(0,_.jsx)(H.gN,{type:"radio",name:"category",value:"in good hands",id:"in good hands",className:K}),(0,_.jsx)("div",{className:J,children:"in good hands"})]}),(0,_.jsxs)("label",{className:Q,htmlFor:"sell",children:[(0,_.jsx)(H.gN,{type:"radio",name:"category",value:"sell",id:"sell",className:K}),(0,_.jsx)("div",{className:J,children:"sell"})]})]}),(0,_.jsx)(H.Bc,{name:"category",render:function(e){return(0,_.jsx)("div",{className:re,children:e})}}),(0,_.jsxs)("div",{className:X,children:[(0,_.jsx)("label",{htmlFor:"titleOfAd",type:"text",className:te,children:"Tittle of ad*:"}),(0,_.jsx)(H.gN,{id:"titleOfAd",name:"titleOfAd",placeholder:"Type name pet",className:G}),(0,_.jsx)(H.Bc,{name:"titleOfAd",render:function(e){return(0,_.jsx)("div",{className:re,children:e})}})]}),(0,_.jsxs)("div",{className:X,children:[(0,_.jsx)("label",{htmlFor:"namePet",type:"text",className:te,children:"Name pet*:"}),(0,_.jsx)(H.gN,{id:"namePet",name:"namePet",placeholder:"Type name pet",className:G}),(0,_.jsx)(H.Bc,{name:"namePet",render:function(e){return(0,_.jsx)("div",{className:re,children:e})}})]}),(0,_.jsxs)("div",{className:X,children:[(0,_.jsx)("label",{htmlFor:"dateOfBirth",type:"text",className:te,children:"Date of birth*:"}),(0,_.jsx)(H.gN,{id:"dateOfBirth",name:"dateOfBirth",placeholder:"Type date of birth",className:G,"data-pattern":"**.**.****"}),(0,_.jsx)(H.Bc,{name:"dateOfBirth",render:function(e){return(0,_.jsx)("div",{className:re,children:e})}})]}),(0,_.jsxs)("div",{className:X,children:[(0,_.jsx)("label",{htmlFor:"breed",type:"text",className:te,children:"Breed*:"}),(0,_.jsx)(H.gN,{id:"breed",name:"breed",placeholder:"Type breed",className:G,autoComplete:"off"}),(0,_.jsx)(H.Bc,{name:"breed",render:function(e){return(0,_.jsx)("div",{className:re,children:e})}})]}),(0,_.jsxs)("div",{className:ae,children:[(0,_.jsx)("button",{type:"submit",className:ne,children:"Next"}),(0,_.jsx)("button",{type:"button",className:ne,onClick:n,children:"Cancel"})]})]})})]})},ge=a(5861),ye=a(7757),be=a.n(ye),Oe=["title","titleId"];function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},we.apply(this,arguments)}function Me(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ae(e,t){var a=e.title,r=e.titleId,s=Me(e,Oe);return n.createElement("svg",we({width:71,height:71,viewBox:"0 0 71 71",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,P||(P=n.createElement("path",{d:"M35.5002 59.1666V35.4999M35.5002 35.4999V11.8333M35.5002 35.4999H59.1668M35.5002 35.4999H11.8335",strokeOpacity:.6,strokeWidth:2,strokeLinecap:"round"})))}var Se=n.forwardRef(Ae),Ce=(a.p,fe.Ry({sex:fe.Z_().required("Field is required!"),location:fe.Z_().min(2).max(36).matches(/\D/g,"Only alphabetic characters are allowed").required("Field is required!"),price:fe.Z_().min(2).max(6).matches(/^[1-9]+[0-9]*\$$/g,"Only number characters and $ are allowed").notRequired(),image:fe.nK(),comments:fe.Z_().min(4).max(120).matches(/^\D*$/g,"Only alphabetic characters and symbols are allowed").required("Field is required!")})),Ze=function(e){var t=e.formData,a=e.setFormData,r=e.prevStep,i=e.onClose,l=(0,n.useState)("back"),c=(0,s.Z)(l,2),o=c[0],d=c[1],p=(0,n.useState)(t.image),x=(0,s.Z)(p,2),f=x[0],N=x[1],j=(0,u.I0)(),v=(0,m.s0)(),y=(0,u.v9)(S.bW);return(0,_.jsx)("div",{children:(0,_.jsx)(H.J9,{validationSchema:Ce,initialValues:t,onSubmit:function(){var e=(0,ge.Z)(be().mark((function e(t){return be().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a((0,g.Z)((0,g.Z)({},t),{},{image:f,price:"sell"!==t.category?"1$":t.price})),"back"===o&&r(),"forward"!==o){e.next=12;break}return e.prev=3,e.next=6,j(h.h.createNotices({values:t,token:y}));case 6:v("/notices/own"),i(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),children:function(e){var r=e.setFieldValue;return(0,_.jsxs)(H.l0,{className:X,children:[(0,_.jsxs)("fieldset",{className:se,children:[(0,_.jsx)("legend",{className:me,children:"The sex*:"}),(0,_.jsxs)("label",{className:ie,htmlFor:"male",children:[(0,_.jsx)(H.gN,{className:oe,type:"radio",id:"male",name:"sex",alt:"male",value:"male"}),(0,_.jsx)("span",{className:le}),(0,_.jsx)("span",{className:de,children:"Male"})]}),(0,_.jsxs)("label",{className:ie,htmlFor:"female",children:[(0,_.jsx)(H.gN,{className:oe,type:"radio",id:"female",name:"sex",alt:"female",value:"female"}),(0,_.jsx)("span",{className:ce}),(0,_.jsx)("span",{className:de,children:"Female"})]})]}),(0,_.jsx)(H.Bc,{name:"sex",render:function(e){return(0,_.jsx)("div",{className:re,children:e})}}),(0,_.jsxs)("div",{className:X,children:[(0,_.jsx)("label",{htmlFor:"location",type:"text",className:te,children:"Location*:"}),(0,_.jsx)(H.gN,{id:"location",name:"location",placeholder:"Type location",className:G}),(0,_.jsx)(H.Bc,{name:"location",render:function(e){return(0,_.jsx)("div",{className:re,children:e})}})]}),"sell"===t.category&&(0,_.jsxs)("div",{className:X,children:[(0,_.jsx)("label",{htmlFor:"price",type:"text",className:te,children:"Price*:"}),(0,_.jsx)(H.gN,{id:"price",name:"price",type:"text",placeholder:"Type price",className:G}),(0,_.jsx)(H.Bc,{name:"price",render:function(e){return(0,_.jsx)("div",{className:re,children:e})}})]}),(0,_.jsx)("label",{htmlFor:"image",className:ue,children:"Load the pet's image*:"}),(0,_.jsxs)("div",{className:he,children:[f?(0,_.jsx)("img",{id:"image",className:pe,src:URL.createObjectURL(f),alt:f.name}):(0,_.jsx)(Se,{}),(0,_.jsx)("input",{className:xe,type:"file",id:"image",name:"image",accept:".jpg,.png",onChange:function(e){return function(e,t){var r=(0,s.Z)(e.target.files,1)[0];r&&(N(r),t("image",r),a((function(e){return(0,g.Z)((0,g.Z)({},e),{},{image:r})})))}(e,r)}}),(0,_.jsx)(H.Bc,{name:"image",render:function(e){return(0,_.jsx)("div",{className:re,children:e})}})]}),(0,_.jsxs)("div",{className:X,children:[(0,_.jsx)("label",{className:te,htmlFor:"comments",children:"Comments*:"}),(0,_.jsx)(H.gN,{component:"textarea",name:"comments",id:"comments",rows:"3",placeholder:"Type comments",className:ee}),(0,_.jsx)(H.Bc,{name:"comments",render:function(e){return(0,_.jsx)("div",{className:re,children:e})}})]}),(0,_.jsxs)("div",{className:ae,children:[(0,_.jsx)("button",{type:"submit",className:ne,onClick:function(){return d("forward")},children:"Done"}),(0,_.jsx)("button",{type:"submit",className:ne,onClick:function(){return d("back")},children:"Back"})]})]})}})})};function Be(e){var t=e.onClose,a=(0,n.useState)(1),r=(0,s.Z)(a,2),i=r[0],l=r[1],c=(0,n.useState)({titleOfAd:"",namePet:"",breed:"",sex:"",location:"",price:"1$",category:"",comments:"",dateOfBirth:"",image:""}),o=(0,s.Z)(c,2),d=o[0],m=o[1];switch(i){case 1:return(0,_.jsxs)("div",{className:$,children:[(0,_.jsx)("h1",{className:z,children:"Add pet"}),(0,_.jsx)(ve,{formData:d,setFormData:m,nextStep:function(){return l((function(e){return 1===e?e+1:2}))},onClose:t})]});case 2:return(0,_.jsxs)("div",{className:$,children:[(0,_.jsx)("h1",{className:z,children:"Add pet"}),(0,_.jsx)(Ze,{formData:d,setFormData:m,prevStep:function(){return l((function(e){return e-1}))},onClose:t})]});default:return(0,_.jsx)("div",{})}}var Fe=a(7942);function ke(){var e=(0,R.useMediaQuery)({maxWidth:767}),t="Add pet",a=(0,u.v9)(S.S8),r=(0,n.useState)(!1),i=(0,s.Z)(r,2),l=i[0],c=i[1];return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:k,onClick:function(){if(!a)return V.Am.info("You must be logged in");c(!0)},children:[!e&&t,(0,_.jsxs)("button",{type:"button",className:D,children:[(0,_.jsx)(W,{className:q}),e&&t]})]}),l&&(0,_.jsx)(Fe.Z,{onClose:function(){c(!1)},children:(0,_.jsx)(Be,{onClose:function(){c(!1)}})})]})}var De="NoticesPage_btnBox__u9YgI",qe=a(643);function Le(){var e=(0,m.TH)().pathname,t=(0,m.s0)();return(0,n.useEffect)((function(){"/notices/lost-found"===e||"/notices/for-free"===e||"/notices/favotire"===e||"/notices/own"===e||t("/notices/sell")}),[]),(0,_.jsxs)(qe.W,{children:[(0,_.jsx)(v,{}),(0,_.jsxs)("div",{className:De,children:[(0,_.jsx)(B,{}),(0,_.jsx)(ke,{})]}),(0,_.jsx)(m.j3,{})]})}}}]);
//# sourceMappingURL=676.09955efb.chunk.js.map